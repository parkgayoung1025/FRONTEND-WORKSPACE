<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1>Practice 1</h1>

    <fieldset>
        <legend>취미</legend>
        <table>
            <tr>
                <td>
                    <input type="checkbox" id="selectAll" onclick="selectAll();">
                    <label for="selectAll">전체 선택</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category1" value="종합">
                    <label for="category1">종합</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category2" value="소설">
                    <label for="category2">소설</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category3" value="시/에세이">
                    <label for="category3">시/에세이</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category4" value="경제/경영">
                    <label for="category4">경제/경영</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category5" value="자기계발">
                    <label for="category5">자기계발</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category6" value="아동">
                    <label for="category6">아동</label>
                </td>
            </tr>
            <tr>
                <td></td>
                <td>
                    <input type="checkbox" name="category" id="category7" value="여행">
                    <label for="category7">여행</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category8" value="과학">
                    <label for="category8">과학</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category9" value="역사/문화">
                    <label for="category9">역사/문화</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category10" value="외국어">
                    <label for="category10">외국어</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category11" value="컴퓨터">
                    <label for="category11">컴퓨터</label>
                </td>
                <td>
                    <input type="checkbox" name="category" id="category12" value="만화">
                    <label for="category12">만화</label>
                </td>
            </tr>
        </table>
    </fieldset>
    <br>
    <button onclick="printCategory();">카테고리 선택</button> <br>
    <div id="area" style="border: 1px solid red; width: 100%; height: 300px;"></div>
    <script>
        // 3번 기능
        let categorys = document.getElementsByName("category");

        for(let i=0; i<categorys.length; i++){
            categorys[i].onclick = function(){
                let checkedListLength = document.querySelectorAll("input[name=category]:checked").length;
                // 선택된 체크박스 길이 == 전체 체크박스 길이
                if(checkedListLength == categorys.length){
                    document.getElementById("selectAll").checked = true;
                }else{
                    document.getElementById("selectAll").checked = false;
                }
                // 전체 체크박스 길이 : 12
                //alert(i+"번째 체크박스 클릭됨");
            }
        }

        // 1번 기능
        function printCategory(){
            // 내가 선택한(checked) 체크박스의 value 값들을 div 태그 중 아이디 값이 area인 요소
            // 안쪽(innerHTML)에 출력
            let checkedList = document.querySelectorAll("input[name=category]:checked");

            let area = document.getElementById("area");
            console.log(checkedList);
            
            checkedList.forEach(function(item, index, array){
                area.innerHTML += item.value + " ";
            })

            // for(let i=0; i<checkedList.length; i++) {
            //     area.innerHTML += checkedList[i].value + " ";
            // }
        }

        // 2번 기능
        function selectAll(){
            let checked = document.getElementById("selectAll").checked;

            let categorys = document.getElementsByName("category");

            for(let i=0; i<categorys.length; i++) {
                categorys[i].checked = checked;
            }
        }
    </script>
</body>
</html>